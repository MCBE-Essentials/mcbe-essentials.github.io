<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#26203a" />
    <link
      rel="icon"
      href="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbcse.png?v=1617477950382"
    />
    
    <title>MCBE Essentials</title>

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="https://unpkg.com/jsoneditor@9.6.0/dist/jsoneditor.min.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/item/style.css">
    <link rel="stylesheet" href="/item/grid.css">
    <link rel="stylesheet" href="style.css">

    <!-- import the webpage's javascript file -->
    <script src="/apps.js" defer></script>
    <script src="/script.js" defer></script>
    <script src="/world-packager/uuid.js" defer></script>
    <script src="/gzipjs.js" defer></script>
    <script src="/pnbt.js" defer></script>
    <script src="/structure-editor/java-structures.js" defer></script>
    <!--<script src="/structure-to-function/portable.js" defer></script>-->
    <script src="interactivity.js" defer></script>
    <script src="/leveldat.js" defer></script>
    <script src="/jszip.js" defer></script>
    <script src="utils.js" defer></script>
    <script src="script.js" defer></script>
    <script src="/filesaver.js" defer></script>
    <script src="/js/datahandler.js" defer></script>
    <script src="https://unpkg.com/jsoneditor@9.6.0/dist/jsoneditor.min.js"></script>
    <script src="/item/script.js"></script>
  </head>
  <body style="">
    <input id="dataFileInput" type="file" readertype="arraybuffer/text" accept=".mcstructure,.json,.nbt" style="display:none;">
    
    <div id="head" class="header">
        <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbcse.png?v=1617477950382" class="imgicon">
      <span class="imgicontext">MCBE Essentials</span>
    </div>
    <div id="body" class="main-content">
      <div id="left" class="main-left">
      </div>
      <div id="right" class="main-right" style="font-family: Minecraftia;text-align:center;">
        <h1>Structure Editor</h1>
        <div class="app-main">
          <div class="app-tabs">
            <span class="tab selected" group="group-structure" open="edit-upload" id="upload-tab">Upload</span>
            <tabgroup style="display:none;" id="edit-group">
              <span class="tab" group="group-structure" open="edit-overview" id="edit-overview-tab">Overview</span>
              <span class="tab" group="group-structure" open="edit-palette">Blocks</span>
              <span class="tab" group="group-structure" open="edit-entities">Entities</span>
              <!--<span class="tab" group="group-structure" open="edit-operations">Operations</span>-->
              <span class="tab" group="group-structure" open="edit-node" id="edit-node-tab" onclick="nodeEditor.set(structure)">Node Editor</span>
              <span class="tab" group="group-structure" open="edit-download" id="edit-download-tab">Download</span>
            </tabgroup>
          </div>
          <div class="app-inner app-tab-content group-structure visible" id="edit-upload">
            <h2>Welcome to Structure Editor!</h2>
            <p>
              To get started, please upload a <code style="font-size:14pt">.mcstructure</code> file, <code style="font-size:14pt">.nbt</code> file or a MCBE Essentials-generated <code style="font-size:14pt">.json</code> structure file.<br>
              <span style="font-size:max(min(0.7vw, 9pt), 7pt);">
                Your privacy is important to us! That's why none of your data on this website gets sent anywhere else; all of the magic happens client-side.
              </span>
            </p>
            <div class="warningmsg show-mobile" id="mobilewarning">
              Look out! This is a pretty heavy app and not designed for low-end or mobile devices. Performance may be slow and your page can freeze if you view this page on a phone. Consider using a PC to do the heavy lifting for you!
            </div>
            <br>
            <label style="display:block;cursor:default;" class="generate-button gb-gray" id="upload-button-disabled">
              Loading data...
            </label>
            <label style="display:none;" class="generate-button gb-blue" for="dataFileInput" id="upload-button-enabled">
              Upload
            </label>
          </div>
          <div class="app-inner app-tab-content group-structure" id="edit-overview">
            <table class="app-page">
              <tr class="app-row">
                <td class="app-node file-stats" style="height:inherit;">
                  <span>File</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <div style="height:100%;">
                      <b>Name:</b> <span id="file-info-name">mystructure.mcstructure</span><br>
                      <b>Type:</b> <span id="file-info-type">Bedrock Structure</span><br>
                      <b>Size:</b> <span id="file-info-size">10KB</span><br>
                      <b>Date:</b> <span id="file-info-date">12/12/12</span>
                    </div>
                  </div>
                </td>
                <td class="app-node">
                  <span>Stats</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px;">
                    <b>Blocks:</b> <span id="file-stats-blocks">0</span><br>
                    <b>Unique Blocks:</b> <span id="file-stats-uniqueblocks">0</span><br>
                    <b>Tile Entities:</b> <span id="file-stats-tileentities">0</span><br>
                    <b>Entities:</b> <span id="file-stats-entities">0</span><br>
                    <b>Size:</b> <span id="file-stats-size">0, 0, 0</span>
                  </div>
                </td>
              </tr>
              <tr class="app-row">
                <td class="app-node hide-embedded" style="height:inherit;">
                  <span>Open With</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <buttongroup>
                      <button class="generate-button gb-blue" style="border-radius: 10px 10px 0px 0px" onclick="openWith('loot-tabler/')">Loot Tabler</button>
                      <!--<button class="generate-button gb-blue" style="border-radius: 0px" onclick="alert('This app may be added in a future update as an expansion to Structure Editor to modify trade tables in villagers. Let us know on Discord if you want this feature!')">Trade Tabler</button>-->
                      <!--<button class="generate-button gb-blue" style="border-radius: 0px" onclick="openWith('/structure-to-function/')">Structure to Function</button>-->
                      <button class="generate-button gb-blue" style="border-radius: 0px 0px 10px 10px" onclick="openWith('legacy/')">Legacy Structure Editor</button>
                    </buttongroup>
                  </div>
                </td>
                <td class="app-node hide-embedded" style="height:inherit;">
                  <span>Convert to...</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px;">
                    <buttongroup>
                      <button class="generate-button gb-blue" style="border-radius: 10px 10px 0px 0px; text-align: left;" onclick="document.getElementById('edit-download-tab').click(); document.getElementById('structure-download-filetype').value = 'json#loot-table'; checkDownloadParameters()">
                        <svg style="height:25px;vertical-align:middle;" viewbox="0 0 24 24">
    <path fill="currentColor" d="M12,2A9,9 0 0,0 3,11C3,14.03 4.53,16.82 7,18.47V22H9V19H11V22H13V19H15V22H17V18.46C19.47,16.81 21,14 21,11A9,9 0 0,0 12,2M8,11A2,2 0 0,1 10,13A2,2 0 0,1 8,15A2,2 0 0,1 6,13A2,2 0 0,1 8,11M16,11A2,2 0 0,1 18,13A2,2 0 0,1 16,15A2,2 0 0,1 14,13A2,2 0 0,1 16,11M12,14L13.5,17H10.5L12,14Z" />
</svg>
                        <span style="vertical-align:middle;">Loot Table</span>
                      </button>
                      <button class="generate-button gb-blue" style="border-radius: 0px; text-align: left;" onclick="document.getElementById('edit-download-tab').click(); document.getElementById('structure-download-filetype').value = 'nbt'; checkDownloadParameters()">
                        <svg style="height:25px;vertical-align:middle;" viewbox="0 0 24 24">
                          <path fill="currentColor" d="M16.5,6.08C16.5,6.08 9.66,7.79 12.94,11.56C13.91,12.67 12.69,13.67 12.69,13.67C12.69,13.67 15.14,12.42 14,10.82C12.94,9.35 12.14,8.62 16.5,6.08M12.03,7.28C16.08,4.08 14,2 14,2C14.84,5.3 11.04,6.3 9.67,8.36C8.73,9.76 10.13,11.27 12,13C11.29,11.3 8.78,9.84 12.03,7.28M9.37,17.47C6.29,18.33 11.25,20.1 15.16,18.43C14.78,18.28 14.41,18.1 14.06,17.89C12.7,18.2 11.3,18.26 9.92,18.07C8.61,17.91 9.37,17.47 9.37,17.47M14.69,15.79C12.94,16.17 11.13,16.26 9.35,16.05C8.04,15.92 8.9,15.28 8.9,15.28C5.5,16.41 10.78,17.68 15.5,16.3C15.21,16.19 14.93,16 14.69,15.79M18.11,19.09C18.11,19.09 18.68,19.56 17.5,19.92C15.22,20.6 8.07,20.81 6.09,19.95C5.38,19.64 6.72,19.21 7.14,19.12C7.37,19.06 7.6,19.04 7.83,19.04C7.04,18.5 2.7,20.14 5.64,20.6C13.61,21.9 20.18,20 18.11,19.09M15.37,14.23C15.66,14.04 15.97,13.88 16.29,13.74C16.29,13.74 14.78,14 13.27,14.14C11.67,14.3 10.06,14.32 8.46,14.2C6.11,13.89 9.75,13 9.75,13C8.65,13 7.57,13.26 6.59,13.75C4.54,14.75 11.69,15.2 15.37,14.23M16.27,16.65C16.25,16.69 16.23,16.72 16.19,16.75C21.2,15.44 19.36,12.11 16.96,12.94C16.83,13 16.72,13.08 16.65,13.19C16.79,13.14 16.93,13.1 17.08,13.07C18.28,12.83 20,14.7 16.27,16.65M16.4,21.26C13.39,21.78 10.31,21.82 7.28,21.4C7.28,21.4 7.74,21.78 10.09,21.93C13.69,22.16 19.22,21.8 19.35,20.1C19.38,20.11 19.12,20.75 16.4,21.26Z" />
                        </svg>
                        <span style="vertical-align:middle;">Java Structure</span>
                      </button>
                      <button class="generate-button gb-blue" style="border-radius: 0px; text-align: left;" onclick="document.getElementById('edit-download-tab').click(); document.getElementById('structure-download-filetype').value = 'mcfunction'; checkDownloadParameters()">
                        <svg style="height:25px;vertical-align:middle;" viewbox="0 0 24 24">
                          <path fill="currentColor" d="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z" />
                        </svg>
                        <span style="vertical-align:middle;">Function</span>
                      </button>
                      <button class="generate-button gb-blue" style="border-radius: 0px 0px 10px 10px; text-align: left;" onclick="document.getElementById('edit-download-tab').click(); document.getElementById('structure-download-filetype').value = 'mcpack'; checkDownloadParameters()">
                        <svg style="height:25px;vertical-align:middle;" viewbox="0 0 24 24">
                            <path fill="currentColor" d="M20 6H12L10 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6M20 18H16V16H14V18H4V8H14V10H16V8H20V18M16 12V10H18V12H16M14 12H16V14H14V12M18 16H16V14H18V16Z" />
                          </svg>
                        <span style="vertical-align:middle;">Behavior Pack</span>
                      </button>
                    </buttongroup>
                  </div>
                </td>
              </tr>
            </table>
          </div>
          <div class="app-inner app-tab-content group-structure" id="edit-entities">
            <table class="app-page">
              <tbody>
                <tr class="app-row">
                  <td colspan="2">
                    Select a feature to edit it!
                  </td>
                </tr>
                <tr class="app-row">
                  <td class="app-node object-list-container" style="height: inherit">
                    <span>Entities</span><br>
                    <input placeholder="Search..." class="search-box" oninput="searchList(this, 'edit-entities-list')">
                    <div class="app-inner-inner object-list" style="text-align: left; padding: 8px; height:calc(100% - 72px);">
                      <div style="height:100%;" id="edit-entities-list">
                      </div>
                    </div>
                  </td>
                  <td class="app-node object-list-container" style="height: inherit">
                    <span>Tile Entities</span><br>
                    <input placeholder="Search..." class="search-box" oninput="searchList(this, 'edit-tile-entities-list')">
                    <div class="app-inner-inner object-list" style="text-align: left; padding: 8px; height:calc(100% - 72px);">
                      <div style="height:100%;" id="edit-tile-entities-list">
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="app-inner app-tab-content group-structure" id="edit-palette">
            <div class="warningmsg show-mobile">
              Look out! This feature may not perform well on low-end devices. <a style="color:var(--home-background)" href="javascript:void(0)" onclick="this.parentNode.style.display = 'none'">Dismiss</a>
            </div>
            <table class="app-page" style="display: inline-block; overflow: hidden; white-space: nowrap;">
              <tbody style="display: block;">
                <tr class="app-row" style="display: block; width: 100%; height: unset;">
                  <td class="app-node object-list-container palette-container">
                    <input placeholder="Search..." class="search-box" oninput="searchList(this, 'palette-list')">
                    <div class="app-inner-inner object-list palette-list" style="text-align: left; padding: 8px; min-height:300px; height:calc(100% - 48px);">
                      <div>                        
                        <!--<div class="app-inner-inner idlabel selected" onclick="selectPaletteEntryElement(this)">
                          <div class="image-preview">
                            <svg class="block-preview" viewbox="0 0 24 24" style="box-shadow: unset;">
                              <path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z" />
                            </svg>
                            <span></span>
                          </div> <span>Move Around</span>
                        </div>-->
                        
                        <div class="app-inner-inner idlabel" onclick="newPaletteEntry()">
                          <div class="image-preview">
                            <svg class="block-preview" viewbox="0 0 24 24" style="box-shadow: unset;">
                              <path fill="currentColor" d="M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2C17.5,2 22,6 22,11A6,6 0 0,1 16,17H14.2C13.9,17 13.7,17.2 13.7,17.5C13.7,17.6 13.8,17.7 13.8,17.8C14.2,18.3 14.4,18.9 14.4,19.5C14.5,20.9 13.4,22 12,22M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C12.3,20 12.5,19.8 12.5,19.5C12.5,19.3 12.4,19.2 12.4,19.1C12,18.6 11.8,18.1 11.8,17.5C11.8,16.1 12.9,15 14.3,15H16A4,4 0 0,0 20,11C20,7.1 16.4,4 12,4M6.5,10C7.3,10 8,10.7 8,11.5C8,12.3 7.3,13 6.5,13C5.7,13 5,12.3 5,11.5C5,10.7 5.7,10 6.5,10M9.5,6C10.3,6 11,6.7 11,7.5C11,8.3 10.3,9 9.5,9C8.7,9 8,8.3 8,7.5C8,6.7 8.7,6 9.5,6M14.5,6C15.3,6 16,6.7 16,7.5C16,8.3 15.3,9 14.5,9C13.7,9 13,8.3 13,7.5C13,6.7 13.7,6 14.5,6M17.5,10C18.3,10 19,10.7 19,11.5C19,12.3 18.3,13 17.5,13C16.7,13 16,12.3 16,11.5C16,10.7 16.7,10 17.5,10Z" />
                            </svg>
                            <span></span>
                          </div> <span>New Palette Entry</span>
                        </div>
                        <div class="app-inner-inner idlabel" onclick="selectPaletteEntryElement(this)" index="-1">
                          <div class="image-preview">
                            <svg class="block-preview" viewbox="0 0 24 24" style="box-shadow: unset;">
                              <path fill="currentColor" d="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z" />
                            </svg>
                            <span></span>
                          </div> <span>Erase Blocks</span>
                        </div>
                        <div class="app-inner-inner idlabel" onclick="selectPaletteEntryElement(this)" pickblock>
                          <div class="image-preview">
                            <svg class="block-preview" viewbox="0 0 24 24" style="box-shadow: unset;">
                              <path fill="currentColor" d="M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z" />
                            </svg>
                            <span></span>
                          </div> <span>Pick Block</span>
                        </div>
                      </div>
                      <div style="/*height:100%;*/" id="palette-list"></div>
                    </div>
                  </td>
                  <td class="app-node object-list-container paint-container">
                    <span style="height: 32px; display: inline-block;">Paint Editor</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px;">
                      <div style="height:100%;">
                        <div>
                          <div class="paint-editor-container hide-scrollbar" id="paint-editor-container">
                            <div>
                              <table class="paint-editor" style="background: repeating-conic-gradient(#504f4f 0% 25%, #6e6e6e 0% 50%) 50% / 16px 16px;">
                                <tbody id="paint-editor">
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                        <div style="text-align: right; font-size: 7pt; max-width: 828px; margin: auto;">
                          Position (~): <span id="paint-editor-pos">0, 0, 0</span>
                        </div>
                        <div style="margin-top: 5px; margin-bottom: 5px; text-align: center;">
                          Layer: 
                          <span class="scroll-button" onclick="renderPaintLayerDown()">&lt;</span>
                          <span id="paint-current-page">0</span> / <span id="paint-total-pages">0</span>
                          <span class="scroll-button" onclick="renderPaintLayerUp()">&gt;</span>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            Looking for advanced block entity data? You can find block entities and their contents over in the Entities tab.
          </div>
          <div class="app-inner app-tab-content group-structure" id="edit-operations">
            <table class="app-page">
              <tbody>
                <tr class="app-row">
                  <td class="app-node equal-width" style="height:inherit;">
                    <span>Rotate</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <input type="range" min="-270" max="270" step="90" style="width: 100%" oninput="document.getElementById('rotate-amount').innerHTML = this.value + '°';">
                      <button class="generate-button" style="width: 100%">
                        Rotate by <b id="rotate-amount">0°</b>
                      </button>
                    </div>
                  </td>
                  <td class="app-node equal-width" style="height:inherit;">
                    <span>Mirror</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      Axis: 
                      <select class="app-input" style="height: 25px;">
                        <option value="x">x</option>
                        <option value="y">y</option>
                        <option value="z">z</option>
                      </select>
                      <button class="generate-button" style="width: 100%">
                        Flip
                      </button>
                    </div>
                  </td>
                </tr>
                <tr class="app-row">
                  <td class="app-node equal-width" style="height:inherit;">
                    <span>Offset</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <label>X: <input type="number" class="app-input" placeholder="0"></label><br>
                      <label>Y: <input type="number" class="app-input" placeholder="0"></label><br>
                      <label>Z: <input type="number" class="app-input" placeholder="0"></label><br><br>
                      <button class="generate-button" style="width: 100%">
                        Apply Offset
                      </button>
                    </div>
                  </td>
                  <td class="app-node equal-width" style="height:inherit;">
                    <span>Miscellaneous</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <button class="generate-button gb-red" style="width: 100%; border-radius: 10px 10px 0 0;">Delete all entities</button>
                      <button class="generate-button gb-red" style="width: 100%; border-radius: unset;">Delete all tile entities</button>
                      <button class="generate-button gb-blue" style="width: 100%; border-radius: unset;">Set structure voids to air</button>
                      <button class="generate-button gb-blue" style="width: 100%; border-radius: 0 0 10px 10px;">Reset all origin positions</button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="app-inner app-tab-content group-structure" id="edit-node">
            <div id="node-editor" style="height: 500px; overflow-y: auto; overflow-x: hidden; border-radius: 10px;"></div>
            <div style="height:35px; position:relative;">
              <div class="horizontal-select" style="text-align:center;" oninput="try{nodeEditor.setMode(this.getAttribute('value'))}catch(e){this.children[0].classList.toggle('selected', false);this.children[1].classList.toggle('selected', true);snackbar('The text editor contains invalid JSON. Fix it before switching to Node view.')}">
                <div class="selected" value="tree">Node</div><div value="code">Text</div>
              </div>
              
              <div class="generate-button save-button" style="text-align:center;" onclick="saveNode()">
                Save
              </div>
            </div>
          </div>
          <div class="app-inner app-tab-content group-structure" id="edit-download" style="text-align: left;">
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-tiles" checked> Include blocks</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-air" checked> Place air blocks</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-waterlog" checked> Keep waterlog layer</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-blockstates" checked> Keep block states</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-tilecontainerloot" checked> Include advanced tile data (loot, sign text, commands, ect)</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-entities" checked> Include entities</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-entityrot" checked> Keep entity rotation</label><br>
            <label><input oninput="checkDownloadParameters()" type="checkbox" id="structure-download-entityloot" checked> Include advanced entity data (equipment, inventory, trades, dialogue, ect)</label><br>
            
            Please note: The above parameters only affect top-level tiles and entities, meaning tiles/entities within items will not be affected.
            <br>
            <table class="bottom-bar-options">
              <tbody>
                <tr>
                  <td class="hide-embedded">
                    <label>Export as: 
                      <select class="app-input export-type" id="structure-download-filetype" oninput="checkDownloadParameters()" style="height: 25px;">
                        <option value="mcstructure">mcstructure</option>
                        <option value="json">json (Structure)</option>
                        <optgroup label="Convert: ">
                          <option value="json#loot-table">json (Loot table)</option>
                          <option value="nbt">nbt (Java structure)</option>
                          <option value="mcfunction">mcfunction</option>
                          <option value="mcpack">mcpack (Behavior pack)</option>
                        </optgroup>
                      </select>
                    </label>
                  </td>
                  <td class="inferior">
                    <div class="generate-button gb-blue export-button" style="text-align:center;" onclick="download()">
                      Download
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div id="structure-download-warning-json" class="structure-download-warning warningmsg" style="display:none;">
              The exported JSON file is formatted as a Prismarine-NBT parsed object. It allows for manual value editing but its filesize is significantly greater than a .mcstructure file. It cannot be used by Minecraft or any other editors that aren't set up with Prismarine-NBT, but it can be used in any structure-file-compatible app on this website.
            </div>
            <div id="structure-download-warning-mcfunction" class="structure-download-warning warningmsg" style="display:none;">
              Some data may be lost in conversion. Click <a href="conversion-warning/#mcfunction" target="_blank">here</a> to get a list of data that won't get carried over.<br>This action will apply the above parameters to your structure and open it in the Structure to Function app.
            </div>
            <div id="structure-download-warning-nbt" class="structure-download-warning warningmsg" style="display:none;">
              Note: This is experimental software. Click <a href="conversion-warning/#nbt" target="_blank">here</a> to get a list of data that won't get carried over. No guarentees that the exported structure will be accurate or properly function in the latest version of Minecraft: Java Edition. <b>This file is not for use with any hacked clients.</b>
            </div>
            <div id="structure-download-warning-json#loot-table" class="structure-download-warning warningmsg" style="display:none;">
              This is a quick way to create a loot table out of all <b>thrown item entities</b> in this structure. All other forms of items (chests, entity equipment, blocks, ect) are ignored when exporting as a loot table. Only item identifier and item count are preserved, and each item has a 100% chance of being created by this loot table.
            </div>
            <div id="structure-download-warning-mcpack" class="structure-download-warning warningmsg" style="display:none;">
              This is the same as exporting as a .mcstructure file, except it comes packaged in a behavior pack for easy add-on importing.
            </div>
          </div>
        </div>
        <p class="description" style="padding: 0px 25px;">
          Thanks to <a href="https://thedestruc7i0n.ca/" target="_blank">TheDestruc7i0n</a>, <a href="https://bridge-core.app/" target="_blank">bridge.</a>, <a href="https://github.com/PrismarineJS/minecraft-data" target="_blank">Prismarine-JS</a> and <a href="https://github.com/Mojang/bedrock-samples" target="_blank">Mojang</a> for the neccesary data to run this project.<br>Also thanks to <a href="https://github.com/PrismarineJS/prismarine-nbt" target="_blank">Prismarine-JS</a> for the NBT to JavaScript library, <a href="https://github.com/josdejong/jsoneditor" target="_blank">Jos de Jong</a> for the JSON editor and <a href="https://github.com/beatgammit/gzip-js" target="_blank">beatgammit</a> for gzip compression.<br>
          
        </p>
        <br><br>
      </div>
    </div>
    
    <div class="overlay" id="overlay" style="cursor:pointer;display:none;" onclick="closeEditors()">
      <span id="open-editors">0 open editors</span>
    </div>
    <div class="tier-editor hide-scrollbar" id="item-editor" style="display:none;user-select:none;min-height:unset;height:unset;max-height: 85vh;overflow-y:auto;">
      <div style="position:relative;text-align:left;">
        <div class="tier-editor-close-button" onclick="closeEditors();">x</div>
        <h2 style="text-align:center;user-select:none;margin:0.4em" class="lefttitle">Advanced Item Editor</h2>
        <div class="app-tabs" id="item-tabs">
          <span class="tab selected" group="group-item" open="item-general">Overview</span>
          <span class="tab" group="group-item" open="item-block" id="item-block-tab">Block</span>
          <span class="tab" group="group-item" open="item-mobbucket" id="item-mob-tab">Entity</span>
          <span class="tab" group="group-item" open="item-map" id="item-map-tab">Map</span>
          <span class="tab" group="group-item" open="item-armor" id="item-armor-tab">Armor</span>
          <!--<span class="tab" group="group-item" open="item-fireworks">Fireworks</span> Too complicated. Financial incentive would be required to pursue this and banner pattern editor.-->
          <span class="tab" group="group-item" open="item-book" id="item-book-tab">Book</span>
          <!--<span class="tab" group="group-item" open="item-container">Container</span> Omitted due to being part of Block tab. Would be re-added if bundles are a thing.-->
          <span class="tab" group="group-item" open="item-potion" id="item-potion-tab">Potion</span>
          <span class="tab" group="group-item" open="item-crossbow" id="item-crossbow-tab">Crossbow</span>
          <span class="tab" group="group-item" open="item-node" id="item-node-tab" open-callback="document.getElementById('item-node-warning').style.display='unset'; snackbar('The Advanced Item Node Editor feature is experimental. Use it at your own risk!')" close-callback="document.getElementById('item-node-warning').style.display='none'">Node Editor</span>
        </div>
        <div class="app-inner app-tab-content group-item visible" id="item-general">
          <table class="app-page">
              <tbody>
                <tr class="app-row">
                  <td class="app-node" style="height:inherit;">
                    <span>General</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <label>Identifier: <input class="app-input" placeholder="minecraft:item" style="width: 200px; font-size:8pt;" id="item-general-identifier" list="ids-item"></label><br>
                      <label>Count: <input type="number" class="app-input" placeholder="1" id="item-general-count"></label><br>
                      <label>Data: <input type="number" class="app-input" placeholder="0" id="item-general-data"></label> 
                      <label>Damage: <input type="number" class="app-input" placeholder="0" id="item-general-damage"></label><br>
                      <label><input type="checkbox" id="item-general-unbreakable"> Unbreakable</label><br>
                      <label><input type="checkbox" id="item-general-waspickedup"> Was Picked Up</label>
                    </div>
                  </td>
                  <td class="app-node" style="height:inherit;">
                    <span>Meta Tags</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      XP Level Repair Cost: <input type="number" class="app-input" placeholder="0" id="item-general-repaircost"><br>
                      <input class="app-input" type="text" placeholder="Custom Name" style="width:200px;font-size: 8pt;" id="item-general-display-name"><br>
                      <textarea class="app-input" type="text" placeholder="Item Lore" style="width:190px;height:60px;font-size: 8pt;" id="item-general-display-lore"></textarea>
                    </div>
                  </td>
                </tr>
                <tr class="app-row">
                  <td class="app-node" style="height:inherit;">
                    <span>GiveNBT</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <label>Item Lock: 
                        <select class="app-input" style="width:unset;height:unset;" id="item-general-itemlock">
                          <option value="0">Off</option>
                          <option value="2">Inventory</option>
                          <option value="1">Slot</option>
                        </select>
                      </label><br>
                      <label><input type="checkbox" id="item-general-keepondeath"> Keep On Death</label><br>
                      
                      <label>
                        Can Place On:<br>
                        <textarea class="app-input" type="text" placeholder="Separate identifiers with a line break" style="width: calc(100% - 15px);height:60px;font-size: 8pt;" id="item-general-canplaceon"></textarea>
                      </label><br>
                      <label>
                        Can Destroy:<br>
                        <textarea class="app-input" type="text" placeholder="Separate identifiers with a line break" style="width: calc(100% - 15px);height:60px;font-size: 8pt;" id="item-general-candestroy"></textarea>
                      </label>
                    </div>
                  </td>
                  <td class="app-node" style="height:inherit;">
                    <span>Enchantments</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <div class="effects-list" id="item-general-enchantments" style="height:215px;">
                        <div>
                          <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png?v=1616555108211" class="minibutton" style="height:100%">
                          <input class="app-input" placeholder="sharpness" style="width: unset;"> *
                          <input class="app-input" type="number" placeholder="5">
                        </div>
                      </div>
                      <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="document.getElementById('item-general-enchantments').appendChild(createEnchantmentItem())" style="vertical-align:middle;">
                        <span style="font-size: 8pt;">Enchantment ID, Level</span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
        </div>
        <div class="app-inner app-tab-content group-item" id="item-block">
          <label>Identifier: <input class="app-input" placeholder="minecraft:block" style="width: 250px;" list="ids-block" id="item-block-name"></label><br><br>
          <span>
            Block States
            <span style="font-size: 8pt;">
             (<a href="https://learn.microsoft.com/en-us/minecraft/creator/reference/content/addonsreference/examples/addonblocks#blockstates" target="_blank">Values</a>)
            </span>
          </span><br>
          <div class="app-inner-inner hide-scrollbar" style="overflow-x: scroll; max-height: 250px; overflow-y: auto;">
            <table style="border-spacing: 2px;" class="npc-actions">
              <thead>
                <tr>
                  <th style="width:20px;"><img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="document.getElementById('item-block-states').appendChild(createBlockstateEntry())"></th>
                  <th style="width:195px">Name</th>
                  <th style="width:110px">Type</th>
                  <th style="width:195px">Value</th>
                </tr>
              </thead>
              <tbody id="item-block-states">
                
              </tbody>
            </table>
          </div><br>
          <button style="width:100%;" class="generate-button gb-blue" onclick="openPseudoTile()" id="item-block-openastile">Edit as Tile Entity</button>
        </div>
        <div class="app-inner app-tab-content group-item" id="item-mobbucket">
          <label><input type="checkbox" checked id="item-mobbucket-useattributes"> Use attributes to display bucket name?</label><br><br>
          <button style="width:100%;" class="generate-button gb-blue" onclick="openEditEntity('currentItem.tag.value')">Edit as Entity</button>
        </div>
        <div class="app-inner app-tab-content group-item" id="item-map">
          <label><input type="checkbox" id="item-map-players"> Display player markers?</label><br>
          <label>Name Index: <input type="number" class="app-input" placeholder="0" id="item-map-name"></label><br>
          <label>UUID: <input type="number" class="app-input" style="width:100%; max-width:200px;" placeholder="0000000000" id="item-map-uuid"></label><br>
          
          Most map data (such as its display appearance) is stored in the world database. This means your map will not render properly unless the structure is imported into the same world it was exported from.
        </div>
        <div class="app-inner app-tab-content group-item" id="item-armor">
          <table class="app-page">
              <tbody>
                <tr class="app-row">
                  <td class="app-node" style="height:inherit;" id="item-armor-leathergroup">
                    <span>Leather Armor</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      <label><input type="color" id="item-armor-customcolor"> Dye Color</label><br><br>
                      <button class="generate-button gb-red" onclick="removeItemTag('customColor')">
                        Remove Dye
                      </button>
                    </div>
                  </td>
                  <td class="app-node" style="height:inherit;" id="item-armor-trimgroup">
                    <span>Armor Trim</span><br>
                    <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                      Trim Pattern: 
                      <select class="app-input" style="width:unset; height: unset;" id="item-armor-trim-pattern">
                        <option>(none)</option>
                      </select><br>
                      Trim Material: 
                      <select class="app-input" style="width:unset; height: unset;" id="item-armor-trim-material">
                        <option>(none)</option>
                      </select><br>
                      <button class="generate-button gb-red" onclick="removeItemTag('Trim')">
                        Remove Trim
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
        </div>
        <!--<div class="app-inner app-tab-content group-item" id="item-fireworks">
          <label>Flight Duration: <input type="number" class="app-input" placeholder="1"></label><br>
          Explosions <br>
          <div class="app-inner-inner">
            <div class="effects-list">
              
            </div>
          </div>
          
        </div>-->
        <div class="app-inner app-tab-content group-item" id="item-book">
          <div class="app-inner-inner book-container hide-scrollbar">
            <table class="book-page-container">
              <thead>
                <tr>
                  <td></td>
                  <td id="item-book-page1-label">Page 1 of 2</td>
                  <td id="item-book-page2-label">Page 2 of 2</td>
                  <td></td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td rowspan="1"><span class="scroll-button book-scroll-button" style="left: 25px;" onclick="bookEditor.previousPage()">&lt;</span></td>
                  <td>
                    <textarea class="book-page" rows="12" id="item-book-page1" oninput="bookEditor.update()"></textarea>
                  </td>
                  <td>
                    <textarea class="book-page" rows="12" id="item-book-page2" oninput="bookEditor.update()"></textarea>
                  </td>
                  <td rowspan="1"><span class="scroll-button book-scroll-button" style="right: 25px;" onclick="bookEditor.nextPage()">&gt;</span></td>
                </tr>
                <tr>
                  <td></td>
                  <td>
                    <img src="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/book_shiftleft_default.png" class="minibutton book-minibutton" onclick="bookEditor.moveBack(bookEditor.currentPage)">
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="bookEditor.addPage(bookEditor.currentPage)">
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png" class="minibutton" onclick="bookEditor.deletePage(bookEditor.currentPage)">
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcopy.png?v=1617471081488" class="minibutton" onclick="bookEditor.duplicatePage(bookEditor.currentPage)">
                    <img src="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/book_shiftright_default.png" class="minibutton book-minibutton" onclick="bookEditor.moveForward(bookEditor.currentPage)">
                  </td>
                  <td>
                    <img src="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/book_shiftleft_default.png" class="minibutton book-minibutton" onclick="bookEditor.moveBack(bookEditor.currentPage + 1)">
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="bookEditor.addPage(bookEditor.currentPage + 1)">
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png" class="minibutton" onclick="bookEditor.deletePage(bookEditor.currentPage + 1)">
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcopy.png?v=1617471081488" class="minibutton" onclick="bookEditor.duplicatePage(bookEditor.currentPage + 1)">
                    <img src="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/book_shiftright_default.png" class="minibutton book-minibutton" onclick="bookEditor.moveForward(bookEditor.currentPage + 1)">
                  </td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="app-inner app-tab-content group-item" id="item-potion">
          <label><input type="checkbox" checked id="item-potion-wasjustbrewed"> Was just brewed?</label><br>
          Looking for the potion color/effect/strength? Bedrock potion effects are stored in data values (available in the Overview tab), not NBT data. <a href="https://minecraft.fandom.com/wiki/Potion#Metadata" target="_blank">Here</a>'s a list of applicable values.
        </div>
        <div class="app-inner app-tab-content group-item" id="item-crossbow">
          Charged Item:<br>
          <table class="itemgrid large"><tbody><tr><td id="item-crossbow-chargeditem" domain="currentItem.tag.value.chargedItem.value" onclick="openEditItem(this.getAttribute('domain'))"></td></tr></tbody></table>
        </div>
        <div class="app-inner app-tab-content group-item" id="item-node">
          <div id="item-node-editor" style="height: 500px; overflow: hidden; border-radius: 10px;"></div>
          <div style="height:35px; position:relative;">
            <div class="horizontal-select" style="text-align:center;" oninput="try{itemNodeEditor.setMode(this.getAttribute('value'))}catch(e){this.children[0].classList.toggle('selected', false);this.children[1].classList.toggle('selected', true);snackbar('The text editor contains invalid JSON. Fix it before switching to Node view.')}">
              <div class="selected" value="tree">Node</div><div value="code">Text</div>
            </div>
          </div>
        </div>
      </div>
      <div style="height:35px; position: relative;">
        <span class="node-warning" id="item-node-warning">Note: Saving the item while on this tab only applies the changes made above.</span>
        <div class="generate-button save-button" style="text-align:center;" onclick="saveItem()">
          Save
        </div>
      </div>
    </div>
    
    <div class="tier-editor hide-scrollbar" id="block-editor" style="display:none;user-select:none;min-height:unset;height:unset;max-height: 85vh;overflow-y:auto;">
      <div style="position:relative;text-align:left;">
        <div class="tier-editor-close-button" onclick="closeEditors();">x</div>
        <h2 style="text-align:center;user-select:none;margin:0.4em" class="lefttitle">Block Editor</h2>
        <div class="app-inner" id="block-details">
          <label>Identifier: <input class="app-input" placeholder="minecraft:block" style="width: 250px;" list="ids-block" id="block-identifier"></label><br><br>
          <span>
            Block States
            <span style="font-size: 8pt;">
             (<a href="https://learn.microsoft.com/en-us/minecraft/creator/reference/content/addonsreference/examples/addonblocks#blockstates" target="_blank">Values</a>)
            </span>
          </span><br>
          <div class="app-inner-inner hide-scrollbar" style="overflow-x: scroll; max-height: 250px; overflow-y: auto;">
            <table style="border-spacing: 2px;" class="npc-actions">
              <thead>
                <tr>
                  <th style="width:20px;"><img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="document.getElementById('block-states').appendChild(createBlockstateEntry())"></th>
                  <th style="width:195px">Name</th>
                  <th style="width:110px">Type</th>
                  <th style="width:195px">Value</th>
                </tr>
              </thead>
              <tbody id="block-states">
                
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div style="height:35px; position: relative;">
        <div class="generate-button save-button" style="text-align:center;" onclick="saveBlock()">
          Save
        </div>
      </div>
    </div>
    
    <div class="tier-editor hide-scrollbar" id="entity-editor" style="display:none;user-select:none;min-height:unset;height:unset;max-height: 85vh;overflow-y:auto;">
      <div style="position:relative;text-align:left;">
        <div class="tier-editor-close-button" style="top: -10px" onclick="closeEditors();">x</div>
        <h2 style="text-align:center;user-select:none;margin:0.25em" class="lefttitle">Entity Editor</h2>
        <div class="app-tabs" id="entity-tabs">
          <span class="tab selected" group="group-entity" open="entity-general">Overview</span>
          <span class="tab" group="group-entity" open="entity-inventory" id="entity-inventory-tab">Inventory</span>
          <span class="tab" group="group-entity" open="entity-item" id="entity-item-tab">Item</span>
          <span class="tab" group="group-entity" open="entity-trades" style="display:none;">Trades</span>
          <span class="tab" group="group-entity" open="entity-dialogue" id="entity-dialogue-tab">Dialogue</span>
          <span class="tab" group="group-entity" open="entity-minecart" id="entity-minecart-tab">Minecart</span>
        </div>
        <div class="app-inner app-tab-content group-entity visible" id="entity-general">
          <table class="app-page">
            <tbody>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;">
                  <span>General</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <label>Identifier: <input class="app-input" placeholder="minecraft:entity" style="width: 280px;" id="entity-general-identifier" list="ids-entity"></label><br>
                    Position (~): 
                      <input type="number" class="app-input" style="width:75px" placeholder="X" id="entity-general-pos-x">,
                      <input type="number" class="app-input" style="width:75px" placeholder="Y" id="entity-general-pos-y">,
                      <input type="number" class="app-input" style="width:75px" placeholder="Z" id="entity-general-pos-z"><br>
                    Rotation: 
                      <input type="number" class="app-input" placeholder="X" id="entity-general-rot-x">,
                      <input type="number" class="app-input" placeholder="Y" id="entity-general-rot-y"><br>
                    <label>Health: 
                      <input type="number" class="app-input" placeholder="5" id="entity-general-health-min"> / 
                      <input type="number" class="app-input" placeholder="5" id="entity-general-health-max"></label><br>
                    <!--<label>Movement Speed: <input type="number" class="app-input" placeholder="0.025" id="entity-general-movespeed"></label><br>-->
                    <label>Name Tag: <input class="app-input" placeholder="Cranberry" style="width: 200px;" id="entity-general-nametag"></label><br>
                  </div>
                </td>
                <td class="app-node" style="height:inherit;">
                  <span>Tags</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <textarea placeholder="mytag" cols="25" class="ta2" style="width: calc(100% - 4px); height: calc(100% - 4px);" id="entity-general-tags"></textarea>
                  </div>
                </td>
              </tr>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;" colspan="2">
                  <span>Effects</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <div class="effects-list" id="entity-general-effects">
                      <div>
                        <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png?v=1616555108211" class="minibutton" style="height:100%">
                        <input class="app-input" placeholder="minecraft:effect" style="width: unset;">
                        <input class="app-input" type="number" placeholder="*">
                        <input class="app-input" type="number" placeholder="ticks">
                        <label>Particles: <input type="checkbox" checked></label>
                      </div>
                    </div>
                    <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="document.getElementById('entity-general-effects').appendChild(createEffectItem())">
                    <span style="font-size: 8pt;">Effect, Strength, Duration Remaining (in ticks), Show Particles?</span>
                  </div>
                </td>
                <td class="app-node" style="height:inherit;display:none;">
                  <span>Passengers</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="app-inner app-tab-content group-entity" id="entity-inventory">
          <table class="app-page">
            <tbody>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;" id="entity-inventory-node">
                  <span>Inventory</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <table class="itemgrid large" style="width: 290px;height:95px;text-align: center;margin-left:auto;margin-right:auto;" id="entity-chestitems">
                        <tbody>
                          <tr>
                          </tr>
                        </tbody>
                    </table>
                    Loot Table Path: <input class="app-input" style="width:calc(100% - 300px); min-width: 255px; height:20px;font-family:monospace;vertical-align: middle;" placeholder="loot_tables/chests/spawn_bonus_chest.json" id="entity-inventory-loottable"><br>
            Loot Table Seed: <input class="app-input" type="number" style="width:150px;height:20px;" placeholder="0000000000" id="entity-inventory-loottableseed"><br>
                  </div>
                </td>
                <td class="app-node" style="height:inherit;" id="entity-equipment-node">
                  <span>Equipment</span><br>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <table class="itemgrid large" id="entity-equipment" style="margin:auto;">
                      <tr id="entity-armor-slots">
                        <td class="dynamic-slot" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/items/empty_armor_slot_helmet.png" domain="currentEntity.Armor.value.value[0]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                        <td class="dynamic-slot" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/items/empty_armor_slot_chestplate.png" domain="currentEntity.Armor.value.value[1]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                        <td class="dynamic-slot" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/items/empty_armor_slot_leggings.png" domain="currentEntity.Armor.value.value[2]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                        <td class="dynamic-slot" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/items/empty_armor_slot_boots.png" domain="currentEntity.Armor.value.value[3]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                      </tr>
                      <tr>
                        <td id="entity-mainhand-slot" domain="currentEntity.Mainhand.value.value[0]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                        <td id="entity-offhand-slot" class="dynamic-slot" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/empty_armor_slot_shield.png" domain="currentEntity.Offhand.value.value[0]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                      </tr>
                    </table>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="app-inner app-tab-content group-entity" id="entity-item">
          <table class="itemgrid large" style="display: inline-table;">
            <tbody id="entity-item-item">
              <tr>
                <td domain="currentEntity.Item.value" onclick="openEditItem(this.getAttribute('domain'))"></td>
              </tr>
            </tbody>
          </table>
          <label>Age: <input class="app-input" type="number" placeholder="0" style="width: 6em;" id="entity-item-age"></label><br>
          Items can be picked up when Age reaches 40 and despawn when Age reaches 6000.
        </div>
        <div class="app-inner app-tab-content group-entity" id="entity-trades">
          <table class="trades-list">
            <thead>
              <tr>
                <th rowspan="2"><img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton"></th>
                <th colspan="2">Wants 1</th>
                <th colspan="2">Wants 2</th>
                <th>Gives</th>
                <th colspan="2">Experience</th>
                <th>Trade Limits</th>
              </tr>
              <tr>
                <th>Item</th>
                <th>Cost</th>
                <th>Item</th>
                <th>Cost</th>
                <th>Item</th>
                <th>Trader</th>
                <th>Orbs?</th>
                <th>Uses / Max</th>
              </tr>
            </thead>
            <tbody>
              <tr class="app-inner-inner">
                <td>
                  <img class="minibutton" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png" style="height: 100%;">
                </td>
                <td>
                  <table class="itemgrid large"><tbody><tr><td></td></tr></tbody></table>
                </td>
                <td>
                  <input type="number" class="app-input">
                </td>
                <td>
                  <table class="itemgrid large"><tbody><tr><td></td></tr></tbody></table>
                </td>
                <td>
                  <input type="number" class="app-input">
                </td>
                <td>
                  <table class="itemgrid large"><tbody><tr><td></td></tr></tbody></table>
                </td>
                <td>
                  <input type="number" class="app-input">
                </td>
                <td>
                  <input type="checkbox">
                </td>
                <td>
                  <input type="number" class="app-input"> / <input type="number" class="app-input">
                </td>
              </tr>
            </tbody>
          </table>
          <br>
          <span style="font-size: 0.8em;">Note: The cost of the item must be defined in the item's stack amount. If a different value is entered into the "cost" column, it will display the original value as a <a href="https://i.imgur.com/yrYEMcj.png" target="_blank">crossed-out price</a> in the villager trade screen.</span>
          <br><br>
          <button class="generate-button gb-blue" style="width: 100%;">Apply Trade Table</button><br>
        </div>
        <div class="app-inner app-tab-content group-entity" id="entity-dialogue">
          <label>NPC Name:<br>
            <textarea style="width: calc(100% - 7px); resize: vertical;" placeholder="My Custom Name" id="entity-dialogue-name"></textarea>
          </label><br>
          <label>Text:<br>
            <textarea style="width: calc(100% - 7px); resize: vertical;" placeholder="My Text" rows="5" id="entity-dialogue-interactivetext"></textarea>
          </label><br>
          Actions:<br>
          <div class="app-inner-inner" style="max-height: 250px; overflow-y: auto;">
            <table class="npc-actions">
              <thead>
                <tr>
                  <th><img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="document.getElementById('entity-dialogue-actions').appendChild(createNPCActionElement())"></th>
                  <th>Mode</th>
                  <th>Commands</th>
                  <th>Label</th>
                </tr>
              </thead>
              <tbody id="entity-dialogue-actions">
              </tbody>
            </table>
          </div>
          <br class="hide-embedded">
          <label class="generate-button gb-blue hide-embedded" style="width: 100%; display: inline-block; text-align: center;" for="dialogue-file">Apply Dialogue File</label><br>
          <input type="file" accept=".json" style="display:none;" id="dialogue-file" oninput="applyDialogue(this.files[0])">
        </div>
        <div class="app-inner app-tab-content group-entity" id="entity-minecart">
          <span>
            <b>Please Note:</b> Changing these values does not affect the behaviors of the minecart, just its display.
          </span><br><br>
          
          <label><input type="checkbox" id="entity-minecart-custom"> Use Custom Display Block?</label><br>
          <label>Display Block Identifier: <input class="app-input" style="width:300px;height:unset;" placeholder="minecraft:stone" id="entity-minecart-custom-id" list="ids-block"></label><br>
          <label>Display Block Offset: <input class="app-input" type="number" placeholder="0" id="entity-minecart-custom-offset"></label><br><br>
          Display Block Offset controls the height of the display block above the bottom of the cart, measured in pixels. For example, 16 pixels would render it fully outside of the cart.
        </div>
      </div>
      <div style="height:35px; position:relative;">
        <div class="generate-button save-button" style="text-align:center;" onclick="saveEntity()">
          Save
        </div>
      </div>
    </div>
    
    <div class="tier-editor hide-scrollbar" id="tileentity-editor" style="display:none;user-select:none;min-height:unset;height:unset;max-height: 85vh;overflow-y:auto;">
      <div style="position:relative;text-align:left;">
        <div class="tier-editor-close-button" style="top: -10px" onclick="closeEditors();">x</div>
        <h2 style="text-align:center;user-select:none;margin:0.25em" class="lefttitle">Tile Entity Editor</h2>
        <div class="app-tabs" id="tile-entity-tabs">
          <span class="tab selected" group="group-tentity" open="tentity-general" id="tentity-general-tab">Overview</span>
          <span class="tab" group="group-tentity" open="tentity-pseudo" id="tentity-pseudo-tab">Overview</span>
          <span class="tab" group="group-tentity" open="tentity-missing">Missing</span>
          <span class="tab" group="group-tentity" open="tentity-banner">Banner</span>
          <span class="tab" group="group-tentity" open="tentity-beehive">Beehive</span>
          <span class="tab" group="group-tentity" open="tentity-brewing">Brewing Stand</span>
          <span class="tab" group="group-tentity" open="tentity-brushable">Brushable</span>
          <span class="tab" group="group-tentity" open="tentity-campfire">Campfire</span>
          <span class="tab" group="group-tentity" open="tentity-cauldron">Cauldron</span>
          <span class="tab" group="group-tentity" open="tentity-commandblock">Command Block</span>
          <span class="tab" group="group-tentity" open="tentity-conduit">Conduit</span>
          <span class="tab" group="group-tentity" open="tentity-container">Container</span>
          <span class="tab" group="group-tentity" open="tentity-decoratedpot">Decorated Pot</span>
          <span class="tab" group="group-tentity" open="tentity-endgateway">End Gateway</span>
          <span class="tab" group="group-tentity" open="tentity-flowerpot">Flower Pot</span>
          <span class="tab" group="group-tentity" open="tentity-furnace">Furnace</span>
          <span class="tab" group="group-tentity" open="tentity-hopper">Hopper</span>
          <span class="tab" group="group-tentity" open="tentity-itemframe">Item Frame</span>
          <span class="tab" group="group-tentity" open="tentity-jigsaw">Jigsaw</span>
          <span class="tab" group="group-tentity" open="tentity-lectern">Lectern</span>
          <span class="tab" group="group-tentity" open="tentity-spawner">Mob Spawner</span>
          <span class="tab" group="group-tentity" open="tentity-noteblock">Note Block</span>
          <span class="tab" group="group-tentity" open="tentity-netherreactor">Nether Reactor</span>
          <span class="tab" group="group-tentity" open="tentity-legacy-sign">Sign</span>
          <span class="tab" group="group-tentity" open="tentity-sign">Sign</span>
          <span class="tab" group="group-tentity" open="tentity-structureblock">Structure Block</span>
        </div>
        
        <div class="app-inner app-tab-content group-tentity visible" id="tentity-general">
          <input class="app-input" style="width: calc(100% - 10px); max-width: 450px;" id="tentity-general-customname" placeholder="Custom Name"><br>
          <label><input type="checkbox" id="tentity-general-ismovable"> Movable?</label><br>
          Position in world: 
            <b id="tentity-general-pos-x">0</b>,
            <b id="tentity-general-pos-y">0</b>,
            <b id="tentity-general-pos-z">0</b><br>
          
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-pseudo">
          <input class="app-input" style="width: calc(100% - 10px); max-width: 450px;" id="tentity-pseudo-customname" placeholder="Custom Name"><br>
          You are currently editing a pseudo tile entity, which means it hasn't been placed in the world and exists only in item form.
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-missing">
          Oops, looks like dynamically editing this tile entity isn't supported by Structure Editor. Try editing it in the <a href="javascript:void(0)" onclick="closeAllEditors(); document.getElementById('edit-node-tab').click()">Node Editor</a>.
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-banner">
          <label><input type="checkbox" id="tentity-banner-type"> Is ominous?</label><br>
          <label>Base Color: <input type="number" class="app-input" placeholder="15" id="tentity-banner-base"></label> <a href="https://minecraft.fandom.com/wiki/Banner#Item" target="_blank" style="font-size: 8pt;">Values</a><br><br>
          <!--If you would like to see a pattern editor, suggest it over on our Discord server.-->
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-beehive">
          <label><input type="checkbox" id="tentity-beehive-shouldspawnbees"> Should spawn bees?</label><br>
          Occupants: <br>
          <div class="app-inner-inner hide-scrollbar" style="overflow-x: scroll; max-height: 250px; overflow-y: auto;">
            <table class="advanced-entity-list npc-actions">
              <thead>
                <tr>
                  <th>
                    <!--<img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="document.getElementById('tentity-beehive-occupants').appendChild(createBeehiveEntity())">-->
                  </th>
                  <th style="width:325px;">Entity</th>
                  <th>Ticks Remaining</th>
                </tr>
              </thead>
              <tbody id="tentity-beehive-occupants">
                <tr>
                  <td>
                    <img class="minibutton" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png" style="height: 100%;">
                  </td>
                  <td>
                    <span class="idlabel">minecraft:entity_identifier</span>
                  </td>
                  <td>
                    <input type="number" class="app-input" placeholder="1" style="width:5em;">
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-brewing">
          Fuel: <input class="app-input" type="number" placeholder="0" id="tentity-brewing-fuelamount"> / <input class="app-input" type="number" placeholder="0" id="tentity-brewing-fueltotal"><br>
          <label>Remaining Cook Time: <input class="app-input" type="number" placeholder="0" id="tentity-brewing-cooktime"></label><br>
          
          Items:<br>
          <div class="app-inner-inner" id="tentity-brewing-items">
            <table class="itemgrid large" style="text-align: center;">
              <tbody>
                <tr>
                  <td domain="currentValidTile.data.Items.value.value[0]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                </tr>
                <tr>
                  <td class="dynamic-slot" style="background-position: 1px -2px;" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/bottle_empty.png" domain="currentValidTile.data.Items.value.value[1]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                  <td class="dynamic-slot" style="background-position: 1px -2px;" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/bottle_empty.png" domain="currentValidTile.data.Items.value.value[2]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                  <td class="dynamic-slot" style="background-position: 1px -2px;" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/bottle_empty.png" domain="currentValidTile.data.Items.value.value[3]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                </tr>
                <tr>
                  <td class="dynamic-slot" style="background-position: 1px -2px;" empty-url="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/brewing_fuel_empty.png" domain="currentValidTile.data.Items.value.value[4]" onclick="openEditItem(this.getAttribute('domain'))">
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-brushable">
          Block<br>
          <div class="app-inner-inner">
            <label>Type: <input class="app-input" type="text" style="width: calc(100% - 10px); max-width: 450px;" placeholder="minecraft:suspicious_sand" id="tentity-brushable-type"></label><br>
            <label>Brush Count: <input class="app-input" type="number" placeholder="0" id="tentity-brushable-brushcount"></label><br>
            <label>Brush Direction: <input class="app-input" type="number" placeholder="0" id="tentity-brushable-brushdirection"></label>
          </div>
          <br>
          Loot Table<br>
          <div class="app-inner-inner">
            Loot Table Path: <input class="app-input" style="width:calc(100% - 300px); min-width: 255px; height:20px;font-family:monospace;vertical-align: middle;" placeholder="loot_tables/entities/desert_pyramid_suspicious_sand.json" id="tentity-brushable-loottable"><br>
            Loot Table Seed: <input class="app-input" type="number" style="width:150px;height:20px;" placeholder="0000000000" id="tentity-brushable-loottableseed"><br>
          </div>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-campfire">
          <table>
            <thead>
              <tr>
                <th>#&nbsp;</th>
                <th>Item&nbsp;</th>
                <th>Cooking Time</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>
                  <table class="itemgrid large">
                    <tr>
                      <td class="campfire-slot" id="tentity-campfire-item1" domain="currentValidTile.data.Item1.value" onclick="openEditItem(this.getAttribute('domain'), this.getAttribute('createlocation'))" createlocation="currentValidTile.data.Item1 = {'type': 'compound', value: JSON.parse(JSON.stringify(templateitem))}"></td>
                    </tr>
                  </table></td>
                <td><input class="app-input" type="number" placeholder="0" id="tentity-campfire-itemtime1"></td>
              </tr>
              <tr>
                <td>2</td>
                <td>
                  <table class="itemgrid large">
                    <tr>
                      <td class="campfire-slot" id="tentity-campfire-item2" domain="currentValidTile.data.Item2.value" onclick="openEditItem(this.getAttribute('domain'), this.getAttribute('createlocation'))" createlocation="currentValidTile.data.Item2 = {'type': 'compound', value: JSON.parse(JSON.stringify(templateitem))}"></td>
                    </tr>
                  </table>
                </td>
                <td><input class="app-input" type="number" placeholder="0" id="tentity-campfire-itemtime2"></td>
              </tr>
              <tr>
                <td>3</td>
                <td>
                  <table class="itemgrid large">
                    <tr>
                      <td class="campfire-slot" id="tentity-campfire-item3" domain="currentValidTile.data.Item3.value" onclick="openEditItem(this.getAttribute('domain'), this.getAttribute('createlocation'))" createlocation="currentValidTile.data.Item3 = {'type': 'compound', value: JSON.parse(JSON.stringify(templateitem))}"></td>
                    </tr>
                  </table>
                </td>
                <td><input class="app-input" type="number" placeholder="0" id="tentity-campfire-itemtime3"></td>
              </tr>
              <tr>
                <td>4</td>
                <td>
                  <table class="itemgrid large">
                    <tr>
                      <td class="campfire-slot" id="tentity-campfire-item4" domain="currentValidTile.data.Item4.value" onclick="openEditItem(this.getAttribute('domain'), this.getAttribute('createlocation'))" createlocation="currentValidTile.data.Item4 = {'type': 'compound', value: JSON.parse(JSON.stringify(templateitem))}"></td>
                    </tr>
                  </table>
                </td>
                <td><input class="app-input" type="number" placeholder="0" id="tentity-campfire-itemtime4"></td>
              </tr>
            </tbody>
          </table>
          When Cooking Time reaches 600, the cooked version of the food item (if applicable) is ejected from the campfire.
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-cauldron">
          Potion ID: 
          <select class="app-input" style="width:unset;height:unset;" id="tentity-cauldron-potion">
            <option value="-1">(no potion)</option>
          </select><br>
          Potion Type: 
          <select class="app-input" style="width:unset;height:unset;" id="tentity-cauldron-potiontype">
            <option value="-1">(no potion)</option>
            <option value="0">Regular</option>
            <option value="1">Splash</option>
            <option value="2">Lingering</option>
          </select><br>
          <label id="tentity-cauldron-colorlabel"><input type="color" id="tentity-cauldron-color"> Water Color</label>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-commandblock">
          <table style="width:100%;" class="app-page">
            <tbody>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;">
                  <textarea style="width:calc(100% - 10px);resize:none;" rows="4" placeholder="/say Hello World" id="tentity-commandblock-command"></textarea>
                  <label><input type="checkbox" id="tentity-commandblock-trackoutput"> Track Output?</label><br>
                  <label><input type="checkbox" id="tentity-commandblock-conditionmet"> Condition Met</label><br>
                  <label><input type="checkbox" id="tentity-commandblock-powered"> Powered</label><br>
                </td>
                <td class="app-node" style="height:inherit;">
                  <!--<input class="app-input" placeholder="Hover Note" style="height:unset;width:100%;"><br>-->
                  <label><input type="checkbox" id="tentity-commandblock-conditional"> Conditional?</label><br>
                  Redstone Mode: 
                  <select class="app-input" style="width:100%;height:unset;" id="tentity-commandblock-auto">
                    <option value="0">Needs Redstone</option>
                    <option value="1">Always Active</option>
                  </select><br>
                  <label><input type="checkbox" id="tentity-commandblock-executeonfirsttick"> Execute on First Tick</label><br>
                  <label>Tick Delay: <input type="number" class="app-input" placeholder="0" id="tentity-commandblock-tickdelay"></label>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-conduit">
          <label><input type="checkbox"> Active?</label><br>
          Target: [INSERT ENTITY SELECTOR]
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-container">
          <div class="app-inner-inner">
            <table class="itemgrid large" style="margin:auto;max-width:280px" id="tentity-container-items">
              <tbody>
                <tr>
                </tr>
              </tbody>
            </table>
            Leave a value blank to omit it.
            <br>
            Loot Table Path: <input class="app-input" style="width:calc(100% - 300px); min-width: 255px; height:20px;font-family:monospace;vertical-align: middle;" placeholder="loot_tables/chests/spawn_bonus_chest.json" id="tentity-container-loottable"><br>
            Loot Table Seed: <input class="app-input" type="number" style="width:150px;height:20px;" placeholder="0000000000" id="tentity-container-loottableseed"><br>
          </div>
          
          <div class="app-inner-inner">
            <label><input type="checkbox" id="tentity-container-findable"> Findable on locator maps?</label>
          </div>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-decoratedpot">
          Sherds<br>
          <div class="app-inner-inner">
            <input class="app-input" placeholder="minecraft:brick" style="width: calc(100% - 10px); height:unset;" id="tentity-decoratedpot-sherd0" list="sherds"><br>
            <input class="app-input" placeholder="minecraft:brick" style="width: calc(100% - 10px); height:unset;" id="tentity-decoratedpot-sherd1" list="sherds"><br>
            <input class="app-input" placeholder="minecraft:brick" style="width: calc(100% - 10px); height:unset;" id="tentity-decoratedpot-sherd2" list="sherds"><br>
            <input class="app-input" placeholder="minecraft:brick" style="width: calc(100% - 10px); height:unset;" id="tentity-decoratedpot-sherd3" list="sherds">
            
            <datalist id="sherds">
              <option value="minecraft:brick">minecraft:brick</option>
              <option value="minecraft:angler_pottery_sherd">minecraft:angler_pottery_sherd</option>
              <option value="minecraft:archer_pottery_sherd">minecraft:archer_pottery_sherd</option>
              <option value="minecraft:arms_up_pottery_sherd">minecraft:arms_up_pottery_sherd</option>
              <option value="minecraft:blade_pottery_sherd">minecraft:blade_pottery_sherd</option>
              <option value="minecraft:brewer_pottery_sherd">minecraft:brewer_pottery_sherd</option>
              <option value="minecraft:burn_pottery_sherd">minecraft:burn_pottery_sherd</option>
              <option value="minecraft:danger_pottery_sherd">minecraft:danger_pottery_sherd</option>
              <option value="minecraft:explorer_pottery_sherd">minecraft:explorer_pottery_sherd</option>
              <option value="minecraft:friend_pottery_sherd">minecraft:friend_pottery_sherd</option>
              <option value="minecraft:heart_pottery_sherd">minecraft:heart_pottery_sherd</option>
              <option value="minecraft:heartbreak_pottery_sherd">minecraft:heartbreak_pottery_sherd</option>
              <option value="minecraft:howl_pottery_sherd">minecraft:howl_pottery_sherd</option>
              <option value="minecraft:miner_pottery_sherd">minecraft:miner_pottery_sherd</option>
              <option value="minecraft:mourner_pottery_sherd">minecraft:mourner_pottery_sherd</option>
              <option value="minecraft:plenty_pottery_sherd">minecraft:plenty_pottery_sherd</option>
              <option value="minecraft:prize_pottery_sherd">minecraft:prize_pottery_sherd</option>
              <option value="minecraft:sheaf_pottery_sherd">minecraft:sheaf_pottery_sherd</option>
              <option value="minecraft:shelter_pottery_sherd">minecraft:shelter_pottery_sherd</option>
              <option value="minecraft:skull_pottery_sherd">minecraft:skull_pottery_sherd</option>
              <option value="minecraft:snort_pottery_sherd">minecraft:snort_pottery_sherd</option>
            </datalist>
          </div>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-endgateway">
          <label>Age: <input class="app-input" type="number" placeholder="0" id="tentity-endgateway-age" style="width:8em;"></label><br>
          Location:
            <input type="number" class="app-input" placeholder="X" id="tentity-endgateway-exitportal-x">,
            <input type="number" class="app-input" placeholder="Y" id="tentity-endgateway-exitportal-y">,
            <input type="number" class="app-input" placeholder="Z" id="tentity-endgateway-exitportal-z"><br>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-flowerpot">
          
          <button style="width:100%;" class="generate-button gb-blue" onclick="openEditBlock('currentValidTile.data.PlantBlock.value')">Edit Flower Block</button>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-furnace">
          <label>Fuel Burn: <input class="app-input" placeholder="0" type="number" id="tentity-furnace-burntime"> / <input class="app-input" placeholder="0" type="number" id="tentity-furnace-burnduration"></label><br>
          <label>Item Cook Time (in ticks): <input class="app-input" placeholder="0" type="number" id="tentity-furnace-cooktime"></label><br>
          <label>Stored XP: <input class="app-input" placeholder="0" type="number" id="tentity-furnace-storedxpint"></label><br><br>
          
          Items<br>
          <div class="app-inner-inner">
            <table id="tentity-furnace-items">
              <tbody>
                <tr>
                  <td>
                    <table class="itemgrid large">
                      <tbody>
                        <tr>
                          <td class="slot" domain="findItem(currentValidTile.data.Items.value.value, 0)" onclick="openEditItem(this.getAttribute('domain'))"></td>
                        </tr>
                        <tr>
                          <td class="slot nohover" domain="findItem(currentValidTile.data.Items.value.value, 1)" onclick="openEditItem(this.getAttribute('domain'))">
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                  <td class="arrow-holder">
                    <img class="trade-arrow" src="https://github.com/Mojang/bedrock-samples/raw/main/resource_pack/textures/ui/arrow_dark_right.png">
                  </td>
                  <td>
                    <table class="itemgrid large">
                      <tbody>
                        <tr>
                          <td domain="findItem(currentValidTile.data.Items.value.value, 2)" onclick="openEditItem(this.getAttribute('domain'))"></td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-hopper">
          <label>Item Transfer Cooldown: <input class="app-input" placeholder="0" type="number" id="tentity-hopper-transfercooldown"></label><br>
          
          Items:<br>
          <div class="app-inner-inner">
            <table class="itemgrid large" id="tentity-hopper-items">
              <tbody>
                <tr>
                  <td domain="currentValidTile.data.Items.value.value[0]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                  <td domain="currentValidTile.data.Items.value.value[1]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                  <td domain="currentValidTile.data.Items.value.value[2]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                  <td domain="currentValidTile.data.Items.value.value[3]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                  <td domain="currentValidTile.data.Items.value.value[4]" onclick="openEditItem(this.getAttribute('domain'))"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-itemframe">
          <label>Item Rotation: <input class="app-input" placeholder="0" type="number" id="tentity-itemframe-rotation"></label><br>
          <label>Item Drop Chance: <input class="app-input" placeholder="0" type="number" id="tentity-itemframe-dropchance"></label><br>
          
          Item:
          <table class="itemgrid large">
            <tbody>
              <tr>
                <td domain="currentValidTile.data.Item.value" onclick="openEditItem(this.getAttribute('domain'))" id="tentity-itemframe-item"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-jigsaw">
          Name: <input class="app-input" placeholder="cranberry" style="width:unset;height:unset;" id="tentity-jigsaw-name"><br>
          Target: <input class="app-input" placeholder="minecraft:empty" style="width:unset;height:unset;" id="tentity-jigsaw-target"><br>
          Target Pool: <input class="app-input" placeholder="path/to/structures" style="width:unset;height:unset;" id="tentity-jigsaw-targetpool"><br>
          Final State: <input class="app-input" placeholder="minecraft:sponge" style="width:unset;height:unset;" id="tentity-jigsaw-finalstate"><br>
          Joint: 
          <select class="app-input" style="width:unset;" id="tentity-jigsaw-joint">
            <option value="rollable">rollable</option>
            <option value="aligned">aligned</option>
          </select>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-lectern">
          <label><input type="checkbox" id="tentity-lectern-hasbook"> Has book?</label><br>
          <label>Page: <input class="app-input" placeholder="1" type="number" id="tentity-lectern-page"> / <input class="app-input" placeholder="2" type="number" id="tentity-lectern-maxpages"></label><br>
          
          Item:
          <table class="itemgrid large" id="tentity-lectern-item">
            <tbody>
              <tr>
                <td domain="currentValidTile.data.book.value" onclick="openEditItem(this.getAttribute('domain'))"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-spawner">
          <table style="width:100%;" class="app-page">
            <tbody>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;" colspan="2">
                  <div class="app-inner-inner">
                    <label>Entity Identifier: <input class="app-input" placeholder="minecraft:pig" style="width:unset;height:unset;" id="tentity-spawner-identifier" list="ids-entity"></label><br>
                    <button class="generate-button" style="width:100%;">Edit template entity</button>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="app-node">
                  <span>Spawn Delay</span><br>
                  <div class="app-inner-inner">
                    <label>Remaining: <input type="number" class="app-input" placeholder="0" id="tentity-spawner-delay"></label><br>
                    The next delay time will be chosen at random between:<br>
                    <label>min: <input type="number" class="app-input" placeholder="0" id="tentity-spawner-delay-min"></label>,
                    <label>max: <input type="number" class="app-input" placeholder="0" id="tentity-spawner-delay-max"></label><br>
                  </div>
                </td>
                <td class="app-node">
                  <span>Spawning</span><br>
                  <div class="app-inner-inner">
                    <label>Spawn Count: <input type="number" class="app-input" placeholder="4" id="tentity-spawner-spawncount"></label><br>
                    <label>Max Nearby Entities: <input type="number" class="app-input" placeholder="6" id="tentity-spawner-maxnearbyentities"></label><br>
                    <label>Required Player Range: <input type="number" class="app-input" placeholder="16" id="tentity-spawner-requiredplayerrange"></label><br>
                    <label>Spawn Range: <input type="number" class="app-input" placeholder="4" id="tentity-spawner-spawnrange"></label><br>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="app-node" colspan="2">
                  <span>Display Entity</span><br>
                  <div class="app-inner-inner">
                    <label>Width: <input type="number" class="app-input" placeholder="4" id="tentity-spawner-display-width"></label><br>
                    <label>Height: <input type="number" class="app-input" placeholder="4" id="tentity-spawner-display-height"></label><br>
                    <label>Scale: <input type="number" class="app-input" placeholder="4" id="tentity-spawner-display-scale"></label>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-noteblock">
          <label>Note: <input type="number" class="app-input" placeholder="1" id="tentity-noteblock-note"></label>
          <!--Sound: <b id="tentity-noteblock-sound">Harp</b><br>--><br>
          To change the instrument of a note block, you must change the block underneath it.
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-netherreactor">
          <label><input type="checkbox" id="tentity-netherreactor-isinitialized"> IsInitialized</label><br>
          <label><input type="checkbox" id="tentity-netherreactor-hasfinished"> HasFinished</label><br>
          <label>Progress: <input type="number" placeholder="0" class="app-input" id="tentity-netherreactor-progress"></label>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-legacy-sign">
          <textarea class="text-sign oak" rows="4" id="tentity-legacy-sign-text"></textarea><br>
          <label><input type="checkbox" id="tentity-legacy-sign-ignorelighting"> Ignore Lighting (glow)</label><br>
          <label><input type="checkbox" id="tentity-legacy-sign-textignorelegacybugresolved"> TextIgnoreLegacyBugResolved</label><br>
          <label><input type="checkbox" id="tentity-legacy-sign-persistformatting"> Persist Formatting</label><br><br>
          
          TextIgnoreLegacyBugResolved restores the default formatting colors and disables the glow outline (these can only naturally be created pre-v1.16.100).
          <button style="width:100%;" class="generate-button gb-blue" onclick="upgradeSign()">Upgrade to Double-Sided Sign</button>
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-sign">
          <table style="width:100%" class="app-page">
            <tbody>
              <tr class="app-rpw">
                <td class="app-node" style="text-align: center;">
                  <span>Front</span>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <textarea class="text-sign oak" rows="4" id="tentity-sign-front-text"></textarea><br>
                    <label><input type="checkbox" id="tentity-sign-front-ignorelighting" oninput="document.getElementById('tentity-sign-front-text').classList.toggle('glowing', this.checked)"> Ignore Lighting (glow)</label><br>
                    <label><input type="checkbox" id="tentity-sign-front-persistformatting"> Persist Formatting</label><br>
                    <label><input type="color" id="tentity-sign-front-color" oninput="document.getElementById('tentity-sign-front-text').style.color = this.value"> Text Color</label>
                  </div>
                </td>
                <td class="app-node" style="text-align: center;">
                  <span>Back</span>
                  <div class="app-inner-inner" style="text-align: left; padding: 8px; height:calc(100% - 40px);">
                    <textarea class="text-sign oak" rows="4" id="tentity-sign-back-text"></textarea><br>
                    <label><input type="checkbox" id="tentity-sign-back-ignorelighting" oninput="document.getElementById('tentity-sign-back-text').classList.toggle('glowing', this.checked)"> Ignore Lighting (glow)</label><br>
                    <label><input type="checkbox" id="tentity-sign-back-persistformatting"> Persist Formatting</label><br>
                    <label><input type="color" id="tentity-sign-back-color" oninput="document.getElementById('tentity-sign-back-text').style.color = this.value"> Text Color</label>
                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="2" style="text-align: center;">
                  <label><input type="checkbox" id="tentity-sign-waxed"> Is Waxed?</label> (prevents sign from being edited)
                </td>
              </tr>
            </tbody>
          </table>         
        </div>
        <div class="app-inner app-tab-content group-tentity" id="tentity-structureblock">
          <table style="width:100%;" class="app-page">
            <tbody>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;">
                  <label><input type="checkbox" id="tentity-structure-showboundingbox"> Show Bounding Box</label><br>
                  <label><input type="checkbox" id="tentity-structure-ignoreentities"> Ignore Entities</label><br>
                  <label><input type="checkbox" id="tentity-structure-removeblocks"> Ignore Blocks</label><br>
                  <label><input type="checkbox" id="tentity-structure-includeplayers"> Include Players</label><br>
                  <label><input type="checkbox" id="tentity-structure-ispowered"> Redstone Powered</label><br>
                </td>
                <td class="app-node" style="height:inherit;">
                  <input class="app-input" placeholder="Structure Name" style="height:unset;width:100%;" id="tentity-structure-structurename"><br>
                  Size:
                  <input type="number" class="app-input" placeholder="X" id="tentity-structure-size-x">,
                  <input type="number" class="app-input" placeholder="Y" id="tentity-structure-size-y">,
                  <input type="number" class="app-input" placeholder="Z" id="tentity-structure-size-z"><br>
                  Offset:
                  <input type="number" class="app-input" placeholder="X" id="tentity-structure-offset-x">,
                  <input type="number" class="app-input" placeholder="Y" id="tentity-structure-offset-y">,
                  <input type="number" class="app-input" placeholder="Z" id="tentity-structure-offset-z"><br>
                  Redstone Save Mode: 
                  <select class="app-input" style="width:100%;height:unset;" id="tentity-structure-redstoneSaveMode">
                    <option value="0">Save In Memory</option>
                    <option value="1">Save To Disk</option>
                  </select><br>
                </td>
              </tr>
              <tr class="app-row">
                <td class="app-node" style="height:inherit;">
                  Rotation: 
                  <select class="app-input" style="width:100px;height:unset;" id="tentity-structure-rotation">
                    <option value="0">0</option>
                    <option value="1">90</option>
                    <option value="2">180</option>
                    <option value="3">270</option>
                  </select><br>
                  Mirror: 
                  <select class="app-input" style="width:100px;height:unset;" id="tentity-structure-mirror">
                    <option value="0">Off</option>
                    <option value="1">x</option>
                    <option value="2">z</option>
                    <option value="3">xz</option>
                  </select><br>
                  <label>Integrity: <input class="app-input" type="number" placeholder="100.00" style="width:100px" id="tentity-structure-integrity"></label><br>
                  <label>Seed: <input class="app-input" type="number" placeholder="000000000000" style="width:100%" id="tentity-structure-seed"></label><br>
                </td>
                <td class="app-node" style="height:inherit;">
                  Animation Mode: 
                  <select class="app-input" style="width:100%;height:unset;" id="tentity-structure-animationmode">
                    <option value="0">None</option>
                    <option value="1">Place by Layer</option>
                    <option value="2">Place by Block</option>
                  </select><br>
                  <label>Animation Seconds: <input class="app-input" type="number" placeholder="0.0" id="tentity-structure-animationSeconds"></label><br><br>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div id="tentity-page-selector" style="padding-top:12px">
        <span class="scroll-button" onclick="openPreviousTile()">&lt;</span>
        <span id="tentity-current-page">1</span> / <span id="tentity-total-pages">5</span>
        <span class="scroll-button" onclick="openNextTile()">&gt;</span>
      </div>
      <div style="position:relative">
        <div class="generate-button save-button" style="text-align:center;" onclick="saveTileEntity()">
          Save
        </div>
      </div>
    </div>
    
    <div class="menu-button2"
         onmouseover="this.children[0].src='https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Felipses.png?v=1617471332712'"
         onmouseleave="this.children[0].src='https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fpermissions_custom_dots.png?v=1617471900740'"
         onclick="toggleMenu(this)"
         >
      <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fpermissions_custom_dots.png?v=1617471900740" style="margin: 20px 8px;width:28px;image-rendering:pixelated;">
    </div>
    <datalist id="ids-entity"></datalist>
    <datalist id="ids-item"></datalist>
    <datalist id="ids-block"></datalist>
    <datalist id="ids-enchantment"></datalist>
    <datalist id="ids-effect"></datalist>
    <datalist id="ids-blockstate"></datalist>
  </body>
</html>