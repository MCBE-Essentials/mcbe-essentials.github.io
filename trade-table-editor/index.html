<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#26203a" />
    <link
      rel="icon"
      href="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbcse.png?v=1617477950382"
    />

    <!-- Primary Meta Tags -->
    <title>MCBE Essentials</title>
    <meta name="title" content="Trade Table Editor - MCBE Essentials">
    <meta name="description" content="Trade Table Editor">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mcbe-essentials.github.io/trade-table-editor/">
    <meta property="og:title" content="Trade Table Editor - MCBE Essentials">
    <meta property="og:description" content="Trade Table Editor">
    <meta property="og:image" content="https://raw.githubusercontent.com/MCBE-Essentials/mcbe-essentials.github.io/main/assets/thumbnails/trade_table_editor.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://mcbe-essentials.github.io/trade-table-editor/">
    <meta property="twitter:title" content="Trade Table Editor - MCBE Essentials">
    <meta property="twitter:description" content="Trade Table Editor">
    <meta property="twitter:image" content="https://raw.githubusercontent.com/MCBE-Essentials/mcbe-essentials.github.io/main/assets/thumbnails/trade_table_editor.png">

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/item/style.css">
    <link rel="stylesheet" href="style.css">

    <!-- import the webpage's javascript file -->
    <script src="/apps.js" defer></script>
    <script src="/script.js" defer></script>
    <script src="script.js" defer></script>
    <script src="/filesaver.js"></script>
    <script src="/js/datahandler.js" defer></script>
    
    <script src="/item/script.js"></script>
  </head>
  <body style="">
    <!--<div id="menu-button">
      <div class="menu-button-dot"></div>
      <div class="menu-button-dot"></div>
      <div class="menu-button-dot"></div>
    </div>-->
    <div id="head" class="header">
        <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbcse.png?v=1617477950382" class="imgicon">
      <span class="imgicontext">MCBE Essentials</span>
    </div>
    <div id="body" class="main-content">
      <div id="left" class="main-left">
        <br>
        <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbcse.png?v=1617477950382" style="image-rendering: pixelated;" class="leftimg">
        <h2 style="margin-left:15px; margin-right: 15px;" class="lefttitle">Minecraft Bedrock Essentials</h2>
        <i style="margin-left:15px; margin-right: 15px; display: none;">A collection of tools for Minecraft Bedrock Edition coding!<br></i><br>
      </div>
      <div id="right" class="main-right" style="font-family: Minecraftia;text-align:center;">
        <h1>Trade Table Editor</h1>
        <table class="app-main">
          <tbody>
            <tr class="app-row">
              <td class="app-node" colspan="2">
                <div class="app-inner-inner">
                  <select class="app-input" style="height:25px;font-size:8pt;width:100px;line-height:20px" id="tierslist" oninput="selectTier(this.value)">
                    <option value="lol">Tier 0</option>
                    <option value="lol">Tier 1</option>
                </select> 
                <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="addTier()">
                <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcopy.png?v=1617471081488" class="minibutton" onclick="addTier(tradetable.tiers[currentTier])">
                <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png?v=1616555108211" class="minibutton" onclick="deleteTier()">
                <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" onclick="moveTier(-1);" style="-webkit-transform: scaleY(-1); transform: scaleY(-1);" class="minibutton">            
          <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" onclick="moveTier(1);" class="minibutton">
                <img src="https://cdn.glitch.me/17ff8eee-9239-4ba0-8a5c-9263261550b5/pencil_edit_icon.png?v=1640287262683" onclick="editTier();" class="minibutton black">
                </div>
              </td>
            </tr>
            <tr class="app-row">
              <td class="app-node" rowspan="2">
                <span>Trades</span>
                <div class="app-inner" id="tradelist-container">
                  <div id="grouplist" class="groupview">Loading new...</div>
                </div>
              </td>
              <td class="app-node" style="height:inherit;">
                <span>Trade Settings</span>
                <div class="app-inner" style="height: calc(100% - 50px);">
                  <label>Max Uses: <input type="number" class="app-input" placeholder="-1" id="trade-uses" min="-1" oninput="updateTrade()"></label><br>
                  <label>Trader XP: <input type="number" class="app-input" placeholder="0" id="trade-trader-xp" oninput="updateTrade()"></label><br>
                  <label>Rewards XP: <input type="checkbox" id="trade-rewards-xp"></label><br><br>
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="addTrade()">
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcopy.png?v=1617471081488" class="minibutton" onclick="if(currentTradeElement) addTrade(currentTrade)">
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png?v=1616555108211" class="minibutton" onclick="deleteTrade()">
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" style="-webkit-transform: scaleY(-1); transform: scaleY(-1);" class="minibutton" onclick="moveTrade(-1)">            
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" class="minibutton" onclick="moveTrade(1)">
                </div>
              </td>
            </tr>
            <tr class="app-row">
              <td class="app-node" style="height:inherit;">
                <span>Group Settings</span>
                <div class="app-inner" style="height: calc(100% - 50px);">
                  <label>Randomly select<br class="trade-settings-1"> <input type="number" class="app-input" placeholder="all" id="group-select" oninput="updateGroup()"> trades</label><br><br>
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" class="minibutton" onclick="addGroup()">
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcopy.png?v=1617471081488" class="minibutton" onclick="if(currentGroupElement) addGroup(currentGroup)">
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png?v=1616555108211" class="minibutton" onclick="deleteGroup()">
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" style="-webkit-transform: scaleY(-1); transform: scaleY(-1);" class="minibutton" onclick="moveGroup(-1)">            
                  <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" class="minibutton"  onclick="moveGroup(1)">
                </div>
              </td>
            </tr>
            <tr>
              <td class="app-node" colspan="2">
                <label class="generate-button import-button" for="dataFileInput">Import</label><div class="generate-button export-button" onclick="exportTable()">Export</div><div class="generate-button gb-blue preview-button" onclick="previewTable();">Preview Trade Table</div>
              </td>
            </tr>
          </tbody>
        </table>
        <br>Thanks to <a href="https://thedestruc7i0n.ca/">TheDestruc7i0n</a> for the item data!
      <br><br>
      </div>
    </div>
    <input type="file" style="display:none" id="dataFileInput" readertype="text" accept=".json">
    <div class="overlay" id="overlay" style="cursor:pointer;display:none;" onclick="closeTierEditor(); closeItemEditor()"></div>
    <div class="tier-editor" id="tier-editor" style="display:none;user-select:none;height:unset;">
      <div style="position:relative;height:100%;text-align:left;">
          <div class="tier-editor-close-button" onclick="closeTierEditor(); closeItemEditor();">x</div>
          <h2 style="text-align:center;user-select:none;" class="lefttitle">Tier Editor</h2>
          <u id="tier-view">Tier 0</u><br>
          Contains <b id="tier-trade-view">0</b> trades and <b id="tier-group-view">0</b> groups in total<br><br>
          Requires <input class="app-input" type="number" min="-1" id="tier-xp" oninput="updateTier()"> Trader XP to unlock<br>
      </div>
    </div>
    <div class="tier-editor" id="item-editor" style="display:none;user-select:none;">
      <div style="position:relative;height:100%;">
        <div class="tier-editor-close-button" onclick="closeItemEditor()">x</div>
        <h2 style="text-align:center;user-select:none;" class="lefttitle">Item Editor</h2>
        <table style="overflow:scroll;text-align:center;margin-left:auto;margin-right:auto;">
          <tbody>
            <tr>
              <td style="position:relative;" rowspan="2" id="item-preview">
                <mcitem identifier="minecraft:chest" count="2" style="width:64px;height:64px;font-size:18pt;" onclick="snackbar('Copied item JSON to clipboard')"></mcitem>
              </td>
              <td style="width:25px;"></td>
              <td>
                 <input class="app-input" type="text" placeholder="minecraft:identifer" style="width:160px;font-size:10px" list="item_identifiers" id="item-identifier" oninput="updateItem()"><br>
                  Count: <input type="number" class="app-input" placeholder="64" id="item-count" oninput="updateItem()" min="1"><br>
                  <span id="item-dmg-data">Damage:</span> <input type="number" class="app-input" placeholder="0" id="item-damage" oninput="updateItem()" min="0"><br>
                  Price Mult: <input type="number" class="app-input" placeholder="0" id="item-pricemult" oninput="updateItem()" min="0"><br>
              </td>
              <td>
                  <input class="app-input" type="text" placeholder="Custom Name" style="width:160px;font-size: 8pt;" id="item-name" oninput="updateItem()"><br>
                  <textarea class="app-input" type="text" placeholder="Item Lore" style="width:150px;height:60px;font-size: 8pt;" id="item-lore" oninput="updateItem()"></textarea><br>
              </td>
              <td>
                  <textarea class="app-input" placeholder="Enchantments
enchant:level" style="width:160px;height:90px;font-size:10px" id="item-enchantments" oninput="updateItem()"></textarea>
              </td>
              </tr><tr>
              <!--<td style="width:100%;">
                  <textarea placeholder="Item JSON goes here" style="width:100%;height:70px;resize:none;" id="item-json" onblur="updateItemJSON()"></textarea>
              </td>-->
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <div id="snackbar">
      my snackbar lol
    </div>
    
    <div class="menu-button2"
         onmouseover="this.children[0].src='https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Felipses.png?v=1617471332712'"
         onmouseleave="this.children[0].src='https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fpermissions_custom_dots.png?v=1617471900740'"
         onclick="toggleMenu(this)"
         >
      <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fpermissions_custom_dots.png?v=1617471900740" style="margin: 20px 8px;width:28px;image-rendering:pixelated;">
    </div>
  </body>
</html>
<datalist id="item_identifiers"></datalist>